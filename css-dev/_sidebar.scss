.id-kss-sidebar {
	border-bottom: 1px solid $color-grayscale-d;
	padding: $padding;

	@include breakpoint( $toggle-desktop-layout ) {
		@include box-shadow( 0px 0px 30px 0px rgba( 0, 0, 0, 0.15 ) );
		position: fixed;
		width: $sidebar-width;
		height: 100%;
		overflow: auto;
		border-bottom: 0;
	}
}

.id-kss-nav-menu-item {
	display: inline-block;
	padding-right: $padding-small;

	@media screen and (min-width: 769px) {
		display: list-item;
		padding-right: 0;
	}
}

.id-kss-nav-menu-link {
	position: relative;
	display: inline-block;

	&:before {
		@media screen and (min-width: 769px) {
			content: ' ';
			position: absolute;
			left: -20px;
			width: 0;
			height: 100%;
			background-color: rgba(#000, 0);
		}
	}

	&.is-in-viewport:before {
		background-color: #000;
		width: 5px;
		transition: background-color .4s, width .6s;
	}
}

.id-kss-nav-menu-child {
	display: none;

	@media screen and (min-width: 769px) {
		display: block;
		list-style-type: none;
		margin: 0;
		padding: 0;

		// @TODO: The ul is output even when there are no children. Fix this, so
		// we can put these :first-child and :last child styles back on the ul.
		li:first-child {
			margin-top: 10px;
			border-top: 1px solid #ccc;
			padding: 10px 0 0;
		}

		li:last-child {
			margin-bottom: 10px;
			border-bottom: 1px solid #ccc;
			padding: 0 0 10px;
		}
	}
}